---
title: "FlutterWebã§javaScripté–¢æ•°ã‚’å‘¼ã³å‡ºã™"
emoji: "ğŸ›ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Flutter, FlutterWeb, JavaScript, js, jsãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«, jsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸]
published: true
---
# ã‚„ã‚‹ã“ã¨
FlutterWebã‹ã‚‰[pub.dev: js](https://pub.dev/packages/js)ã‚’ä½¿ç”¨ã—ã¦JavaScripté–¢æ•°ã‚’å‘¼ã³å‡ºã™ã€‚

```yaml:ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ
project(root)
â”œâ”€ lib
â”‚  â”œâ”€ main.dart
â”‚  â””â”€ js
â”‚      â”œâ”€ js_func.js
â”‚      â””â”€ js_func_call.dart
â””â”€ web
    â””â”€ index.html
```

# åŸºæœ¬ç·¨
ç°¡å˜ãªè‡ªä½œã®jsé–¢æ•°ã‚’å®šç¾©ã—ã¦å‘¼ã³å‡ºã—ã¦ã¿ã‚‹ã€‚
ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨jsé–¢æ•°ã§å¤‰æ›ã—ãŸæ–‡å­—åˆ—ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã‚‹ã ã‘ã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ã€‚
![](/images/5635db7b9b08d4/demo_image.png =400x)
![](/images/5635db7b9b08d4/console_image.png =400x)

```dart:main.dart
import 'package:flutter/material.dart';
import 'js/js_func_call.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);
  @override
  Widget build(BuildContext context) {

    const argumentValue = "jsé–¢æ•°ã®å‘¼ã³å‡ºã—";
    String returnValue = "";

    return MaterialApp(
        home: Scaffold(
          appBar: AppBar(
            title: const Text("js operation check"),
          ),
          body: Center(
            child: ElevatedButton(
              onPressed: () {
                // JavaScripté–¢æ•°ã‚’å‘¼ã³å‡ºã—ã€æˆ»ã‚Šå€¤ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
                returnValue = callJsFunc(argumentValue);
                debugPrint(returnValue);
              },
              child: const Padding(
                padding: EdgeInsets.all(8.0),
                child: Icon(
                  Icons.play_circle,
                  color: Colors.white,
                ),
              ),
            ),
          ),
        ));
  }
}
```

```dart:js_func_call.dart
@JS()
// jsãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¨˜è¼‰
library js_func;
import 'package:js/js.dart';

// jsãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‘¼ã³å‡ºã—ãŸã„é–¢æ•°ã‚’Call
@JS('callJsFunc')
external String callJsFunc(String message);
```

```js:js_func.js
// JavaScriptã®é–¢æ•°å®šç¾©
function callJsFunc(message){
    const returnMessage = "js function call: " + message
    return returnMessage
}
```

```html:index.html
  <!--  ä¸Šè¨˜éƒ¨åˆ†çœç•¥ -->
  <script src="flutter.js" defer></script>
  <!--  JavaScripté–¢æ•°ã‚’å®šç¾©ã—ãŸjsãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æŒ‡å®š -->
  <script src="../lib/js/js_func.js" defer></script>
</head>
```

# ã‚„ã‚„å¿œç”¨ç·¨
è‡ªä½œã®é–¢æ•°ã§ã¯ãªãã€jsã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã¿ã‚‹ã€‚
ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯[(æœªå®š)]()ã€‚

<-- ä»¥ä¸‹ã¯å¾Œæ—¥æ›´æ–° -->